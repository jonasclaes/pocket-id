"use strict";(self.webpackChunkpocket_id_docs=self.webpackChunkpocket_id_docs||[]).push([[964],{2498:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"client-examples/jellyfin","title":"Jellyfin","description":"Due to the current limitations of the Jellyfin SSO plugin, this integration will only work in a browser. When tested, the Jellyfin app did not work and displayed an error, even when custom menu buttons were created.","source":"@site/docs/client-examples/jellyfin.md","sourceDirName":"client-examples","slug":"/client-examples/jellyfin","permalink":"/pocket-id/client-examples/jellyfin","draft":false,"unlisted":false,"editUrl":"https://github.com/stonith404/pocket-id/edit/main/docs/docs/client-examples/jellyfin.md","tags":[],"version":"current","frontMatter":{"id":"jellyfin"},"sidebar":"docsSidebar","previous":{"title":"Hoarder","permalink":"/pocket-id/client-examples/hoarder"},"next":{"title":"Vikunja","permalink":"/pocket-id/client-examples/vikunja"}}');var s=i(4848),l=i(8453);const o={id:"jellyfin"},r="Jellyfin",c={},a=[{value:"Requirements",id:"requirements",level:2},{value:"OIDC - Pocket ID Setup",id:"oidc---pocket-id-setup",level:2},{value:"OIDC Client - Jellyfin SSO Resource",id:"oidc-client---jellyfin-sso-resource",level:2},{value:"Optional Step - Custom Home Button",id:"optional-step---custom-home-button",level:2},{value:"Signing into Your Jellyfin Instance",id:"signing-into-your-jellyfin-instance",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"jellyfin",children:"Jellyfin"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"Due to the current limitations of the Jellyfin SSO plugin, this integration will only work in a browser. When tested, the Jellyfin app did not work and displayed an error, even when custom menu buttons were created."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["To view the original references and a full list of capabilities, please visit the ",(0,s.jsx)(n.a,{href:"https://github.com/9p4/jellyfin-plugin-sso?tab=readme-ov-file#openid",children:"Jellyfin SSO OpenID Section"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://jellyfin.org/downloads/server",children:"Jellyfin Server"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/9p4/jellyfin-plugin-sso",children:"Jellyfin SSO Plugin"})}),"\n",(0,s.jsx)(n.li,{children:"HTTPS connection to your Jellyfin server"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"oidc---pocket-id-setup",children:"OIDC - Pocket ID Setup"}),"\n",(0,s.jsx)(n.p,{children:"To start, we need to create a new SSO resource in our Jellyfin application."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Replace the ",(0,s.jsx)(n.code,{children:"JELLYFINDOMAIN"})," and ",(0,s.jsx)(n.code,{children:"PROVIDER"})," elements in the URL."]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Log into the admin panel, and go to OIDC Clients -> Add OIDC Client."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Name"}),": Jellyfin (or any name you prefer)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Callback URL"}),": ",(0,s.jsx)(n.code,{children:"https://JELLYFINDOMAIN.com/sso/OID/redirect/PROVIDER"})]}),"\n",(0,s.jsx)(n.li,{children:'For this example, we\u2019ll be using the provider named "test_resource."'}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"}),". Keep the page open, as we will need the OID client ID and OID secret."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"oidc-client---jellyfin-sso-resource",children:"OIDC Client - Jellyfin SSO Resource"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Visit the plugin page (",(0,s.jsx)("i",{children:"Administration Dashboard -> My Plugins -> SSO-Auth"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the ",(0,s.jsx)("i",{children:'OID Provider Name (we used "test_resource" as our name in the callback URL), Open ID, OID Secret, and mark it as enabled.'})]}),"\n",(0,s.jsx)(n.li,{children:"The following steps are optional based on your needs. In this guide, we\u2019ll be managing only regular users, not admins."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img.png",src:i(4956).A+"",width:"805",height:"564"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["To manage user access through groups, follow steps ",(0,s.jsx)(n.strong,{children:"4, 5, and 6"}),". Otherwise, leave it blank and skip to step 7."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img2.png",src:i(7092).A+"",width:"653",height:"727"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["Under ",(0,s.jsx)("i",{children:"Roles"}),", type the name of the group you want to use. ",(0,s.jsx)(n.strong,{children:"Note:"})," This must be the group name, not the label. Double-check in Pocket ID, as an incorrect name will lock users out."]}),"\n",(0,s.jsxs)(n.li,{children:["Skip every field until you reach the ",(0,s.jsx)(n.strong,{children:"Role Claim"})," field, and type ",(0,s.jsx)(n.code,{children:"groups"}),".","\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"This step is crucial if you want to manage users through groups."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Repeat the above step under ",(0,s.jsx)(n.strong,{children:"Request Additional Scopes"}),". This will pull the group scope during the sign-in process; otherwise, the previous steps won\u2019t work."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img3.png",src:i(3773).A+"",width:"641",height:"323"})}),"\n",(0,s.jsxs)(n.ol,{start:"7",children:["\n",(0,s.jsxs)(n.li,{children:["Skip the remaining fields until you reach ",(0,s.jsx)(n.strong,{children:"Scheme Override"}),". Enter ",(0,s.jsx)(n.code,{children:"https"})," here. If omitted, it will attempt to use HTTP first, which will break as WebAuthn requires an HTTPS connection."]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"})," and restart Jellyfin."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"optional-step---custom-home-button",children:"Optional Step - Custom Home Button"}),"\n",(0,s.jsxs)(n.p,{children:["Follow the ",(0,s.jsx)(n.a,{href:"https://github.com/9p4/jellyfin-plugin-sso?tab=readme-ov-file#creating-a-login-button-on-the-main-page",children:"guide to create a login button on the login page"})," to add a custom button on your sign-in page. This step is optional, as you could also provide the sign-in URL via a bookmark or other means."]}),"\n",(0,s.jsx)(n.h2,{id:"signing-into-your-jellyfin-instance",children:"Signing into Your Jellyfin Instance"}),"\n",(0,s.jsx)(n.p,{children:"Done! You have successfully set up SSO for your Jellyfin instance using Pocket ID."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Sometimes there may be a brief delay when using the custom menu option. This is related to the Jellyfin plugin and not Pocket ID."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If your users already have accounts, as long as their Pocket ID username matches their Jellyfin ID, they will be logged in automatically. Otherwise, a new user will be created with access to all of your folders. Of course, you can modify this in your configuration as desired."}),"\n",(0,s.jsxs)(n.p,{children:["This setup will only work if sign-in is performed using the ",(0,s.jsx)(n.code,{children:"https://jellyfin.example.com/sso/OID/start/PROVIDER"})," URL. This URL initiates the SSO plugin and applies all the configurations we completed above."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},4956:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/jelly_fin_img-2729fb06cd4e1d0462c846a4d0045575.png"},7092:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/jelly_fin_img2-7a65301f97b819847beaf0c0b63ec1df.png"},3773:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/jelly_fin_img3-c6bee171e477b3b0e1037daaf8f12717.png"},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var t=i(6540);const s={},l=t.createContext(s);function o(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);